<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Video downloader</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<style>
.form-control{
width:100%;
padding:0.375rem 0.75 rem;
margin: 0 auto;
}
.video-wrapper {
    max-width: 400px;
    margin: 0 auto;
}

.small-video {
    max-width: 100%;
}
</style>
</head>
<body>
<div class="m-4 text-center">
    <h2>Video downloader</h2>
    <form action="" method="post" class="d-flex align-items-center justify-content-center">
        {% csrf_token %}
        <div class="mb-3 me-2">
            <label class="form-label" for="video_url"></label>
            <input type="text" class="form-control border-success" id="video_url" name="video_url" placeholder="Youtube url" required>
        </div>
        <button type="submit" class="btn btn-primary">Atsi≈≥sti video</button>
    </form>
    {% if author %}
    <h3>Name: {{ author }}</h3>
    {% endif %}

    {% if title %}
    <h3>Title: {{ title }}</h3>
    {% endif %}

    {% if views %}
    <p>Number of views: {{ views }}</p>
    {% endif %}

    {% if length %}
    <p>Length of video: {{ length }}</p>
    {% endif %}

    {% if rating %}
    <p>Rating of video: {{ rating }}</p>
    {% endif %}

    {% if success_message %}
    <p>{{ success_message }}</p>
    {% endif %}

    {% if file_path %}
    <div class="video-wrapper">
        <video controls autoplay class="small-video">
            <source src="{{ file_path }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    {% endif %}

    {% if error_message %}
    <p>{{ error_message }}</p>
    {% endif %}
</div>
</body>
</html>